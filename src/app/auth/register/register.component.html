<!-- register.component.html -->
<ion-content class="bg-black ion-padding">
  <content class="flex flex-col items-center justify-center h-screen">
    <!-- Logo -->
    <!-- <div class="mb-8">
    <img src="assets/rizo-logo.png" alt="RIZO" class="h-10" />
  </div> -->

  <!-- Heading -->
  <h6 class="text-lg! font-black text-center mt-0! mb-10!">
    Create Your Account
  </h6>

  <!-- Form -->
  <form
    [formGroup]="registerForm"
    (ngSubmit)="onSubmit()"
    class="w-full flex flex-col"
    >
    <!-- Name Field -->
    <div class="mb-6">
      <label for="name" class="block text-md mb-1 font-bold">Enter your Name</label>
      <ion-input
        id="name"
        formControlName="name"
        style="--padding-start: 1rem; --max-height: 40px"
        class="w-full bg-transparent text-[12px]! text-[12px]! border border-gray-600 rounded-sm! max-h-[40px]"
        [class.border-red-500]="isFieldInvalid('name')"
        placeholder="Your full name"
      ></ion-input>

      @if (isFieldInvalid('name')) {
        <div class="text-red-500 mt-1">
          Name is required
        </div>
      }
    </div>

    <!-- Email Field -->
    <div class="mb-6">
      <label for="email" class="block text-md mb-1">Email Address</label>
      <ion-input
        id="email"
        type="email"
        style="--padding-start: 1rem"
        formControlName="email"
        class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! max-h-[40px]"
        [class.border-red-500]="isFieldInvalid('email')"
        placeholder="your.email@example.com"
      ></ion-input>
      @if (isFieldInvalid('email')) {
        <div class="text-red-500 mt-1">
          Please enter a valid email address
        </div>
      }
    </div>

    <!-- Phone Field -->
    <div class="mb-6">
      <label for="phone" class="block text-md mb-1">Enter Phone Number</label>
      <ion-input
        id="phone"
        type="tel"
        style="--padding-start: 1rem"
        formControlName="phone"
        class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! p-4"
        [class.border-red-500]="isFieldInvalid('phone')"
        placeholder="Your phone number"
      ></ion-input>
      @if (isFieldInvalid('phone')) {
        <div class="text-red-500 mt-1">
          Please enter a valid phone number
        </div>
      }
    </div>

    <!-- Password Field -->
    <div class="mb-6">
      <label for="password" class="block text-md mb-1"
        >Enter Your Password</label
        >
        <ion-input
          id="password"
          type="password"
          style="--padding-start: 1rem"
          formControlName="password"
          class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! p-4"
          [class.border-red-500]="isFieldInvalid('password')"
          placeholder="********"
        ></ion-input>
        @if (isFieldInvalid('password')) {
          <div class="text-red-500 mt-1">
            Password must be at least 8 characters
          </div>
        }
      </div>

      <!-- Confirm Password Field -->
      <div class="mb-8">
        <label for="confirmPassword" class="block text-md mb-1"
          >Confirm Your Password</label
          >
          <ion-input
            id="confirmPassword"
            type="password"
            style="--padding-start: 1rem"
            formControlName="confirmPassword"
            class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! p-4"
            [class.border-red-500]="isFieldInvalid('confirmPassword')"
            placeholder="********"
          ></ion-input>
          @if (isFieldInvalid('confirmPassword')) {
            <div class="text-red-500 mt-1">
              Passwords do not match
            </div>
          }
        </div>

        <!-- Submit Button -->
        <cr-button [fullwidth]="true" class="" size="medium"
          ><span class="text-md">Get started</span></cr-button
          >

          <!-- Sign In Link -->
          <div class="text-center">
            <p class="text-md my-2">OR</p>
            <p class="text-md font-bold">
              Already have an account?
              <a routerLink="/auth/login" class="text-[#00B6E9]">Sign in</a>
            </p>
          </div>
        </form>

        <!-- Success Modal -->
        <ion-modal [initialBreakpoint]="0.4" [breakpoints]="[0, 0.4, 1]" #modal>
          <ng-template>
            <div class="bg-white rounded-t-3xl p-6">
              <div class="text-center">
                <h2 class="text-md text-black font-bold mb-2">Welcome to Rizo</h2>
                <p class="text-gray-700 mb-8">
                  Welcome your <span class="text-[#00B6E9]">Rizo</span> account has
                  been created successfully
                </p>

                <ion-button
                  expand="block"
                  (click)="proceed()"
                  class="w-full h-14 text-xl font-medium rounded-lg bg-[#6366F1]"
                  >
                  Proceed
                </ion-button>
              </div>
            </div>
          </ng-template>
        </ion-modal>
      </content>
    </ion-content>
