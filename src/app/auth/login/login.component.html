<!-- login.component.html -->
<ion-content class="bg-white text-black ion-padding">
  <div class="flex flex-col items-center mt-[30%] h-screen">
    <div class="w-full max-w-md mx-auto">
      <!-- Logo -->
      <!-- <div class="mb-8">
      <img src="assets/rizo-logo.png" alt="RIZO" class="h-10" />
    </div> -->

    <!-- Heading -->
    <h6 class="text-lg! font-black text-center mt-0! mb-10!">Sign in</h6>

    <!-- Form -->
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onSubmit()"
      class="w-full flex flex-col"
      >
      <!-- Email Field -->
      <div class="mb-6">
        <label for="email" class="block text-md mb-1 font-bold"
          >Email Address</label
          >
          <ion-input
            id="email"
            type="email"
            style="--padding-start: 1rem; --max-height: 40px"
            formControlName="email"
            class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! max-h-[40px]"
            [class.border-red-500]="isFieldInvalid('email')"
            placeholder="your.email@example.com"
          ></ion-input>
          @if (isFieldInvalid('email')) {
            <div class="text-red-500 mt-1">
              Please enter a valid email address
            </div>
          }
        </div>

        <!-- Password Field -->
        <div class="mb-8">
          <label for="password" class="block text-md mb-1 font-bold"
            >Password</label
            >
            <ion-input
              id="password"
              type="password"
              style="--padding-start: 1rem; --max-height: 40px"
              formControlName="password"
              class="w-full bg-transparent text-[12px]! border border-gray-600 rounded-sm! p-4 max-h-[40px]"
              [class.border-red-500]="isFieldInvalid('password')"
              placeholder="********"
            ></ion-input>
            @if (isFieldInvalid('password')) {
              <div class="text-red-500 mt-1">
                Password is required
              </div>
            }

            <!-- Forgot Password Link -->
            <div class="flex justify-end mt-2">
              <a routerLink="/auth/forgot-password" class="text-[#00B6E9] text-sm"
                >Forgot password?</a
                >
              </div>
            </div>

            <!-- Submit Button -->
            <cr-button
              type="submit"
              [disabled]="loginForm.invalid"
              [fullwidth]="true"
              class=""
              size="medium"
              >
              <span class="text-md">Login</span>
            </cr-button>

            <!-- Sign Up Link -->
            <div class="text-center">
              <p class="text-md my-2">OR</p>
              <p class="text-md font-bold">
                Don't have an account?
                <a routerLink="/auth/register" class="text-[#00B6E9]">Sign up</a>
              </p>
            </div>
          </form>
        </div>
      </div>

      <!-- Success Modal -->
      <ion-modal [initialBreakpoint]="0.4" [breakpoints]="[0, 0.4]" #modal>
        <ng-template>
          <div
            class="bg-white rounded-t-3xl py-3 px-4 h-[100%] flex flex-col"
            >
            <div class="text-center">
              <h2 class="text-sm font-bold mb-2 text-black">Welcome back</h2>
              <p class="text-gray-700 mb-8">
                Welcome your <span class="text-[#00B6E9]">Rizo</span> account has
                been created successfully
              </p>

              <div class="w-full mt-[10%]">
                <cr-button
                  expand="block"
                  (click)="proceed()"
                  [fullwidth]="true"
                  size="large"
                  class="w-full! mt-[10%]! bottom-2 text-xl font-medium rounded-lg"
                  >
                  Proceed
                </cr-button>
              </div>
            </div>
          </div>
        </ng-template>
      </ion-modal>
    </ion-content>
